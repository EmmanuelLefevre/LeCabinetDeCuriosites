<div id="email"
     class=""> <!-- Email Form -->
  <div class="contact-form">
    <strong class="contact-strong">Envoyez-moi un message :</strong>
    <form [formGroup]="emailForm"
          #ngForm="ngForm"
          #formDirective="ngForm"
          (ngSubmit)="onSubmit(formDirective)">

      <div class="form-group">
        <label for="email">Email</label>
        <input formControlName="email" 
               type="email" 
               class="form-control"
               autocomplete="off"
               [ngClass]="{ 'invalid-feedback': ngForm.submitted && f['email'].errors }">
      </div>
      <div *ngIf="ngForm.submitted && f['email'].errors">
        <div class="text-alert" *ngIf="f['email'].errors['required']">Veuillez saisir un email!</div>
        <div class="text-alert" *ngIf="f['email'].errors['email']">Format d'email invalide!</div>
        <div class="text-alert" *ngIf="f['email'].errors['validEmail']">
          L'email doit contenir un "@" + nom de domaine!
        </div>
      </div>

      <div class="form-group">
        <label for="subject">Sujet</label>
        <input formControlName="subject"
               type="text" 
               class="form-control"
               autocomplete="off"
               [ngClass]="{ 'invalid-feedback': ngForm.submitted && f['subject'].errors }">
      </div>
      <div *ngIf="ngForm.submitted && f['subject'].errors">
        <div class="text-alert" *ngIf="f['subject'].errors['required']">Veuillez saisir un sujet!</div>
        <div class="text-alert" *ngIf="f['subject'].errors['minlength']">Le sujet doit contenir au minimum 3 caractères.</div>
        <div class="text-alert" *ngIf="f['subject'].errors['maxlength']">Le sujet peut contenir au maximum 25 caractères.</div>
      </div>

      <div class="form-group">
        <label for="body">Message</label>
        <textarea formControlName="body" 
                  class="form-control"
                  rows="7"
                  autocomplete="off"
                  [ngClass]="{ 'invalid-feedback': ngForm.submitted && f['body'].errors }"></textarea>
      </div>
      <div *ngIf="ngForm.submitted && f['body'].errors">
        <div class="text-alert" *ngIf="f['body'].errors['required']">Veuillez saisir un message!</div>
        <div class="text-alert" *ngIf="f['body'].errors['minlength']">Le message doit contenir au minimum 3 caractères.</div>
        <div class="text-alert" *ngIf="f['body'].errors['maxlength']">Le message peut contenir au maximum 250 caractères.</div>
      </div>

      <div class="button-activity">
        <button type="submit" 
           rel="noopener noreferrer"
           class="link" 
           role="button"
           aria-label="bouton envoyer message">Envoyer message
        </button>
      </div>

    </form>
  </div>
</div> <!-- Email Form End -->
<div *ngIf="spinnerService.visibility | async">
  <div class="spinner-container">
    <div class="circle">
      <fa-icon [icon]="faRobot"></fa-icon>
    </div>
  </div>
</div>
